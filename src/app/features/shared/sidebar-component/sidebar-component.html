<div class="dashboard-container">
    <!-- Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <button tuiButton (click)="toggleSidebar()" class="menu-button">
                <tui-icon icon="@tui.menu"></tui-icon>
            </button>
            <div class="logo-section">
                <img src="assets/img/logo.png" alt="EcomFy Logo" class="header-logo">
                <h1>EcomFy</h1>
            </div>
            <div class="user-section">
                <p class="user-email">{{email()}}</p>
                <tui-avatar icon="@tui.user" size="m" text="Usuario" tuiDropdownAlign="right" tuiLink type="button"
                    class="link" [tuiDropdown]="dropdown" [(tuiDropdownOpen)]="open"></tui-avatar>

                <ng-template #dropdown>
                    <tui-data-list>
                        <tui-opt-group>
                            @for(item of items; track $index) {
                            <button tuiOption type="button" class="item" (click)="onClick(item.onClick)">
                                {{ item.item }}
                                <!--<tui-icon icon="@tui.check" />-->
                            </button>
                            }

                        </tui-opt-group>
                    </tui-data-list>
                </ng-template>

            </div>
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="sidebar" [class.sidebar-open]="sidebarVisible()">
        <nav class="sidebar-nav">
            <div class="nav-section">
                <h3 class="nav-title">FAVORITOS</h3>
                <ul class="nav-list">
                    @for (item of itemsNav; track $index) {
                    <li><a class="nav-item" [routerLink]="[item.item]" routerLinkActive="active">
                            <tui-icon icon="{{item.icon}}"></tui-icon>
                            {{item.title}}
                        </a>
                    </li>
                    }

                    <li>
                        <a class="nav-item dropdown-toggle" (click)="toggleDropdown('reportes')">
                            <tui-icon icon="@tui.chart-line"></tui-icon>
                            dropdown
                            <tui-icon [icon]="isDropdownOpen('reportes') ? '@tui.chevron-up' : '@tui.chevron-down'"
                                class="dropdown-arrow">
                            </tui-icon>
                        </a>
                        <ul class="dropdown-menu" [class.dropdown-open]="isDropdownOpen('reportes')">
                            <li><a class="nav-item submenu-item">
                                    <tui-icon icon="@tui.chart-bar"></tui-icon>
                                    item 1
                                </a>
                            </li>
                            <li><a class="nav-item submenu-item">
                                    <tui-icon icon="@tui.chart-pie"></tui-icon>
                                    item 2
                                </a>
                            </li>
                            <li><a class="nav-item submenu-item">
                                    <tui-icon icon="@tui.table"></tui-icon>
                                    Datos
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <li><a class="nav-item" [routerLink]="['/register']">
                        <tui-icon icon="@tui.users"></tui-icon>
                        Equipo
                    </a>
                </li>
            </div>

            <div class="navno-section">
                <h3 class="nav-title">APLICACIÃ“N</h3>
                <ul class="nav-list">
                    <li><a class="nav-item">
                            <tui-icon icon="@tui.folder"></tui-icon>
                            Proyectos
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <router-outlet></router-outlet>
    </main>
</div>