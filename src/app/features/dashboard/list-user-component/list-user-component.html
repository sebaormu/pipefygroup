<div class="dashboard-container" style="background-color: #fff; padding: 15px; border-radius: 10px;">
    <div class="card-container">
        
        <div tuiAppearance="floating" tuiCardLarge tuiForm="m" style="width: 50%;" [formGroup]="form">
            <tui-textfield>
                <label tuiLabel>Buscar usuarios</label>
                <input formControlName="search" 
                       placeholder="Escriba el nombre del usuario" 
                       tuiTextfield 
                       (blur)="search()"
                       (keyup.enter)="search()"/>
            </tui-textfield>
            <tui-error [error]="[] | tuiFieldError | async" />
        </div>
        
        <div class="table-wrapper mt-1">
            <table tuiTable>
                <thead>
                    <tr tuiThGroup>
                        <th tuiTh>Nombre completo</th>
                        <th tuiTh>Email</th>
                        <th tuiTh>status</th>
                        <th tuiTh>Rol</th>
                        <th tuiTh>Ver</th>
                    </tr>
                </thead>
                <tbody tuiTbody>
                    @for (item of paginatedUsers; track $index) {
                    <tr>
                        <td tuiTd>{{ item.full_name }}</td>
                        <td tuiTd>{{item.email}}</td>
                        <td tuiTd>
                            <span class="status-badge"
                                [ngClass]="item.status === 'active' ? 'status-paid' : 'status-unpaid'">
                                {{ item.status }}
                            </span>
                        </td>
                        <td tuiTd>{{item.role}}</td>
                        <td tuiTd class="nav-item" [routerLink]="['/users/user', item.id]">
                            <tui-icon icon="@tui.eye"></tui-icon>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>

        <div class="table-footer">
            <tui-pagination
              [length]="length"
              [index]="index"
              (indexChange)="onPageChange($event)">
            </tui-pagination>
          
            
          </div>
    </div>
</div>